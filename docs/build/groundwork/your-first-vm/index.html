<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build/groundwork/your-first-vm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Your first VM | Riff Labs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://labs.riff.cc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://labs.riff.cc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://labs.riff.cc/docs/build/groundwork/your-first-vm"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Your first VM | Riff Labs"><meta data-rh="true" name="description" content="Now it&#x27;s time to create a virtual machine in the Proxmox cluster, which will be the first of many. We&#x27;ll use this VM to run a few different services, and we&#x27;ll use it to learn how to manage VMs in Proxmox. We&#x27;ll also use it as a basic way of testing that our new DHCP and DNS setup is working properly, and that our network is configured correctly in general."><meta data-rh="true" property="og:description" content="Now it&#x27;s time to create a virtual machine in the Proxmox cluster, which will be the first of many. We&#x27;ll use this VM to run a few different services, and we&#x27;ll use it to learn how to manage VMs in Proxmox. We&#x27;ll also use it as a basic way of testing that our new DHCP and DNS setup is working properly, and that our network is configured correctly in general."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://labs.riff.cc/docs/build/groundwork/your-first-vm"><link data-rh="true" rel="alternate" href="https://labs.riff.cc/docs/build/groundwork/your-first-vm" hreflang="en"><link data-rh="true" rel="alternate" href="https://labs.riff.cc/docs/build/groundwork/your-first-vm" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d875fe7e.css">
<script src="/assets/js/runtime~main.3d5fea23.js" defer="defer"></script>
<script src="/assets/js/main.49c6f830.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="A series of dots or stars, forming the Riff.CC logo." class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="A series of dots or stars, forming the Riff.CC logo." class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Riff.CC Labs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/build/intro">Build</a><a class="navbar__item navbar__link" href="/docs/maintain/intro">Maintain</a><a class="navbar__item navbar__link" href="/docs/monitor/intro">Monitor</a><a class="navbar__item navbar__link" href="/docs/automate/intro">Automate</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/build/intro">Riff.CC Labs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/setup---networking-and-basics">Setup - Networking and Basics</a><button aria-label="Collapse sidebar category &#x27;Setup - Networking and Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/groundwork/initial-details">Initial details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/groundwork/setting-up-a-router">Setting up a router</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/groundwork/the-first-server">The first server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/groundwork/your-first-cluster">Your first cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/groundwork/dns-dhcp">Setting up Gravity (DHCP + DNS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/build/groundwork/your-first-vm">Your first VM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/build/groundwork/conclusion">Conclusion</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/setup---getting-airborne">Setup - Getting Airborne</a><button aria-label="Expand sidebar category &#x27;Setup - Getting Airborne&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/setup---networking-and-basics"><span itemprop="name">Setup - Networking and Basics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Your first VM</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Your first VM</h1>
<p>Now it&#x27;s time to create a virtual machine in the Proxmox cluster, which will be the first of many. We&#x27;ll use this VM to run a few different services, and we&#x27;ll use it to learn how to manage VMs in Proxmox. We&#x27;ll also use it as a basic way of testing that our new DHCP and DNS setup is working properly, and that our network is configured correctly in general.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-vm">Creating the VM<a href="#creating-the-vm" class="hash-link" aria-label="Direct link to Creating the VM" title="Direct link to Creating the VM">​</a></h2>
<p>Log into the Proxmox web interface. This will be at <a href="https://your-node-ip:8006" target="_blank" rel="noopener noreferrer">https://your-node-ip:8006</a>. You&#x27;ll be presented with a login screen. Enter your username and password, and you&#x27;ll be taken to the Proxmox dashboard.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation-media">Installation media<a href="#installation-media" class="hash-link" aria-label="Direct link to Installation media" title="Direct link to Installation media">​</a></h3>
<p>First, you&#x27;ll need some installation media. You&#x27;ll want to download an ISO for some sort of Linux distribution. For the Riff Lab, we&#x27;ll go with Debian (and we&#x27;ll assume going forwards that you are using Debian or Proxmox unless stated otherwise).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="downloading-debian">Downloading Debian<a href="#downloading-debian" class="hash-link" aria-label="Direct link to Downloading Debian" title="Direct link to Downloading Debian">​</a></h3>
<p>Head to the Debian homepage at <a href="https://www.debian.org" target="_blank" rel="noopener noreferrer">https://www.debian.org</a>. Right-click on the big &quot;Download&quot; link and hit &quot;Copy Link Address&quot; or similar. This will copy the download link for Debian to your clipboard, so we can paste it into Proxmox. Go back to your Proxmox tab, click and expand a node, click on a datastore such as <code>local</code>, and click <code>ISO Images</code> in the middle-left sidebar.</p>
<p>It&#x27;ll look like this, except yours will start out empty.</p>
<p><img loading="lazy" alt="A Proxmox VE web panel, open to the ISO images tab of a particular node&amp;#39;s local storage." src="/assets/images/proxmox-iso-images-e4f42e1e591ef92bc514ecc42ff0c913.png" width="1492" height="670" class="img_ev3q"></p>
<p>Click the &#x27;Download from URL&#x27; button at the top of the page. Paste the URL you copied from the Debian website into the box, and hit <code>Download</code>. Proxmox will download the ISO and save it to the datastore. This may take a few minutes, depending on your internet connection.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-vm-1">Creating the VM<a href="#creating-the-vm-1" class="hash-link" aria-label="Direct link to Creating the VM" title="Direct link to Creating the VM">​</a></h3>
<p>Now that we have an ISO, we can create a VM. Click on the <code>Create VM</code> button at the top of the page. You&#x27;ll be presented with a wizard to create a new VM. We&#x27;ll go through each step of the wizard.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">​</a></h4>
<p>The first step is the <code>General</code> step. Here, you&#x27;ll enter a name for your VM. We&#x27;ll call ours <code>robot01</code>. You&#x27;ll also need to select a node to run the VM on. You can select any node you like. Leave the VM ID as whichever ID Proxmox suggests, unless you have your own reason to set a specific number.</p>
<p>Click the Advanced checkbox.</p>
<p>For most workloads, you will want to <code>Start at boot</code>, and since you&#x27;re creating a production machine, select the + icon next to Tags and add the <code>production</code> tag. This indicates a VM that is running an important service.</p>
<p><img loading="lazy" alt="Creating a VM using the Proxmox wizard." src="/assets/images/creating-a-vm-575867c38bff560f4240bd7c794b7d22.png" width="1488" height="1126" class="img_ev3q"></p>
<p>For this first VM, we&#x27;ll also give it a tag of <code>maintenance</code> to indicate that it is a maintenance server. Don&#x27;t worry, this will be more exciting than it sounds!</p>
<p>Click Next.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="os">OS<a href="#os" class="hash-link" aria-label="Direct link to OS" title="Direct link to OS">​</a></h4>
<p>Select <code>Use CD/DVD disc image file (iso)</code> and pick the Debian ISO image from the &quot;ISO Image&quot; dropdown.</p>
<p><img loading="lazy" alt="Selecting the Debian ISO image as our installation media." src="/assets/images/selecting-debian-1076d64ba444e2b4e1d9220bae6adc7d.png" width="1488" height="1126" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="system">System<a href="#system" class="hash-link" aria-label="Direct link to System" title="Direct link to System">​</a></h4>
<p>For <code>System</code> you&#x27;ll generally want to make your setting look like the following:</p>
<p><img loading="lazy" alt="We&amp;#39;ll transcribe these settings below." src="/assets/images/proxmox-creating-a-vm-system-f1e004b338f2e5161d1fc629e609837e.png" width="1488" height="1126" class="img_ev3q"></p>
<ul>
<li>Graphic card: <code>Default</code></li>
<li>Machine: <code>Default (i440fx)</code></li>
<li>Firmware BIOS: <code>OMVF (UEFI)</code> (if you&#x27;re using a modern OS like Debian 11)</li>
<li>Add EFI Disk: <code>Yes</code></li>
<li>EFI Storage: <code>local-lvm</code> (or <code>local-zfs</code> if you&#x27;re running ZFS, or the name of your distributed storage if you&#x27;re using that)</li>
<li>Pre-enroll key: <code>Yes</code> (if you are running Debian 12, Ubuntu 20.04 or newer)`</li>
<li>SCSI Controller: <code>VirtIO SCSI single</code> or whatever the default currently is.</li>
<li>Qemu Agent: <code>Yes</code>. This allows Proxmox to communicate with the VM and perform actions like graceful shutdowns and reboots.</li>
<li>Add TPM: <code>No</code>.</li>
</ul>
<p>Click Next.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="disks">Disks<a href="#disks" class="hash-link" aria-label="Direct link to Disks" title="Direct link to Disks">​</a></h4>
<p>In the <code>Disks</code> section, you&#x27;ll pretty much go with the default options. Select a fairly generous disk size, like 50GiB.</p>
<p>Select <code>Discard</code>, and leave the Advanced settings alone. SSD emulation may be useful in some very specific circumstances (but you probably don&#x27;t need it for most workloads).</p>
<p><img loading="lazy" alt="Alt text" src="/assets/images/proxmox-creating-a-vm-disks-6005f899a10833203a0c688755dbdad0.png" width="1488" height="1126" class="img_ev3q"></p>
<p>Click Next.</p>
<p>For CPU, use between four and six cores, and a single socket (this will usually be the kind of configuration you want for a virtual machine). For memory, use 4GiB - which you&#x27;ll type into Proxmox as <code>4096</code> MiB. This is a good starting point for most VMs. You can always add more later, or lower it to a more sensible value if you gave it too much.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You can&#x27;t (easily) lower the amount of <em>storage</em> provisioned once a machine is created, unlike memory, CPU and other &quot;composable&quot; resources. So, it&#x27;s better to start with a smaller amount of storage and increase it later if you need to.</p></div></div>
<p>For the network, use the default settings, which should be something like <code>vmbr0</code> and VirtIO as the network adapter model.</p>
<p>Leave MAC address on automatic, and leave the Advanced settings alone.</p>
<p>Click Next one more time, and then click the <code>Start after created</code> checkbox before clicking Finish.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="first-boot">First Boot<a href="#first-boot" class="hash-link" aria-label="Direct link to First Boot" title="Direct link to First Boot">​</a></h3>
<p>Your VM will roar to life. Click its name to open the main details page about it, where you can see its state and various stats about it.</p>
<p><img loading="lazy" alt="Various stats about the new VM, robot01" src="/assets/images/robot01-overview-56a7c661bb2d5d5d0b85d928d815a8cb.png" width="3420" height="1550" class="img_ev3q"></p>
<p>Click the Console tab in the middle left sidebar. You&#x27;ll be presented with a Debian installer. Go through the installer using your arrow keys, enter button and general keyboard, and install Debian.</p>
<p><img loading="lazy" alt="The Debian installer." src="/assets/images/proxmox-vm-debian-installer-4f7e4bf4b24748b60d718910dccd0a62.png" width="2480" height="1488" class="img_ev3q"></p>
<p>You can use the defaults for most things, but skip setting a root password, and instead create a user account.</p>
<p>Give the machine a hostname of <code>robot01</code> (or whatever you called it in Proxmox). Set <code>riff.cc</code> as the domain name (or whatever your domain name is).</p>
<p>Use the name of the lab (if your lab) as your username, or <code>riff</code> if it&#x27;s in the riff lab.</p>
<p>If it&#x27;s your own user, make sure to use a strong and memorable password (preferably a five or six word password, but at minimum a four word password or equivalent. See <a href="https://xkcd.com/936/" target="_blank" rel="noopener noreferrer">https://xkcd.com/936/</a> for more information).</p>
<p>If it&#x27;s a RiffLab machine, use <code>riff</code> as the username for the first user on the system, and use the current password from the RiffLab password store. This will change regularly over time.</p>
<p>When prompted to select packages to install:</p>
<ul>
<li>
<p>If it&#x27;s a desktop such as a staff desktop or IPMI workstation, select <code>Debian desktop environment</code> and select <code>Cinnamon</code> (de-selecting GNOME) if this a VM without a GPU (most VMs will not have a GPU) but <em>does</em> need a desktop environment. Make sure to select <code>SSH server</code> and <code>standard system utilities</code> as well.</p>
</li>
<li>
<p>If it&#x27;s a server or container host, simply select <code>SSH server</code> and <code>standard system utilities</code>.</p>
</li>
<li>
<p>If it&#x27;s a desktop with GPU passthrough, select <code>Debian desktop environment</code> and select <code>KDE</code>.</p>
</li>
</ul>
<p>ake sure to select <code>SSH server</code> and <code>standard system utilities</code> as well.</p>
<p>Leave the rest unchecked unless you have a specific reason to install them.</p>
<p>Once you&#x27;ve installed Debian, you&#x27;ll be presented with a login prompt. Log in with the username and password you created during the installation process.</p>
<p>Once the machine is booted for the first time and you&#x27;ve logged in, select the <code>Hardware</code> tab in the middle left sidebar. Double-click CD/DVD Drive (ide2), and click the <code>Do not use any media</code> button. This will remove the Debian ISO from the VM&#x27;s virtual CD drive, and prevent it from booting from the ISO again. Go back to the console.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-installation">Post-installation<a href="#post-installation" class="hash-link" aria-label="Direct link to Post-installation" title="Direct link to Post-installation">​</a></h3>
<p>First, install some basic utilities we need on pretty much every machine:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install -y curl wget git nano htop tmux screen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You should have a keypair (such as <code>~/.ssh/id_ed25519*</code>) and passphrase from earlier. If you don&#x27;t, go back and create one now. You&#x27;ll need it for the next step. You should also make sure you&#x27;ve added your public key to your GitHub account.</p></div></div>
<p>If this is a RiffLab install, install the default set of RiffLab keys by running the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -s https://github.com/zorlin.keys &gt; ~/.ssh/authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -s https://github.com/michatinkers.keys &gt; ~/.ssh/authorized_keys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you want to save yourself some typing, use the up and down arrows to select the command you just typed, and left and right and backspace keys to edit it. You can also use the <code>Ctrl + A</code> and <code>Ctrl + E</code> keys to jump to the start and end of the line respectively. Use these navigation keys cleverly and often to great effect. In the two commands above, it could cut 50+ characters of typing to just twelve.</p></div></div>
<p>Log back into Gravity and check out the DHCP Scopes section. Search for your machine&#x27;s IP address (which you can get with the command <code>ip a</code>). Make sure it has a hostname assigned to it - if not, edit the entry and give it a hostname. Click &quot;Turn to reservation` while you&#x27;re here.</p>
<p>You can now exit the Proxmox interface and log into the machine directly using SSH. While you can use the IP address of the machine to log in, you should get in the habit of using the hostname, which will be <code>robot01.riff.cc</code> if you&#x27;re in the RiffLab, or <code>robot01.yourdomain.com</code> if you&#x27;re in your own lab. You can usually use the short version of the hostname too - just <code>robot01</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/riffcc/rifflabs/tree/main/packages/create-docusaurus/templates/shared/docs/build/groundwork/your-first-vm.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/build/groundwork/dns-dhcp"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Setting up Gravity (DHCP + DNS)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/build/groundwork/conclusion"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Conclusion</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-the-vm" class="table-of-contents__link toc-highlight">Creating the VM</a><ul><li><a href="#installation-media" class="table-of-contents__link toc-highlight">Installation media</a></li><li><a href="#downloading-debian" class="table-of-contents__link toc-highlight">Downloading Debian</a></li><li><a href="#creating-the-vm-1" class="table-of-contents__link toc-highlight">Creating the VM</a></li><li><a href="#first-boot" class="table-of-contents__link toc-highlight">First Boot</a></li><li><a href="#post-installation" class="table-of-contents__link toc-highlight">Post-installation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/build/intro">Build</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Riff.CC Project & Riff Labs.</div></div></div></footer></div>
</body>
</html>